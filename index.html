<!DOCTYPE html>

<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->

<html>
<head>
    <title>Tuỳ biến ProMax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
     <style>
        body {
            font-family: Arial, sans-serif;
            margin: 10;
            padding: 0;
            background-color: #f0f0f0;
        }
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
    </style>
</head>
<body>
    <div class="topnav">
        <h1>Tuỳ biến ProMax</h1>
    </div>
    <div class="content">
        <p>
            <button id="connectBleButton" class="connectButton"> Kết nối ProMax </button>
        </p>
        <p class="gray-label">Trạng thái kết nối: <strong><span id="bleState" style="color:#d13a30;">Không kết nối</span></strong></p>
   
    </div>
    
    <div id="configBlock" style="display: none;">
    <p>Đọc kỹ chú ý phía cuối trang!</p>
    <p>Đọc kỹ chú ý phía cuối trang!</p>
    <p>
        <p>
            Sửa giá trị trong bảng dưới rồi ấn <b>Gửi</b>
        </p>
        <table>
            <tr>
                <td>Xoay màn hình (chọn đến khi phù hợp)</td>
                <td>
                    <select id="display_rotation" onchange="updateConfig()">
                        <option value="0">0 (Hướng 0)</option>
                        <option value="1">1 (Hướng 1)</option>
                        <option value="2">2 (Hướng 2)</option>
                        <option value="3">3 (Hướng 3)</option>
                        <option value="4">4 (Hướng 4, ảnh ngược)</option>
                        <option value="5">5 (Hướng 5, ảnh ngược)</option>
                        <option value="6">6 (Hướng 6, ảnh ngược)</option>
                        <option value="7">7 (Hướng 7, ảnh ngược)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Giao diện màn hình</td>
                <td>
                    <select id="screen" onchange="updateConfig()">
                        <option value="0">0 (Đầy đủ)</option>
                        <option value="1">1 (Chỉ tốc độ giới hạn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Hiện đồng hồ, tên đường?</td>
                <td>
                    <select id="show_clock" onchange="updateConfig()">
                        <option value="1">1 (Hiện đồng hồ)</option>
                        <option value="2">2 (Hiện tên đường)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Ẩn hiện chữ "km/h"</td>
                <td>
                    <select id="show_text_kmh" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Ẩn hiện số 0 10 20 ... 130 </td>
                <td>
                    <select id="show_number_marker" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Hiện tốc độ khi ko có cam </td>
                <td>
                    <select id="show_speed" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Upload ảnh màn hình khởi động, và ảnh màn chờ (1) </td>
                <td>
                    <button id="transfer-file-button">Upload</button>
                    <div id="file-transfer-percent" style="display: none;">0%</div>
                </td>
            </tr>
            <tr>
                <td>Thời gian hiện ảnh màn hình khởi động (2) </td>
                <td>
                    <input type="number" id="boot_screen_duration" min="0" max="255" onchange="updateConfig()">
                </td>
            </tr>
            <tr>
                <td>Kêu bip khi tốc độ giới hạn thay đổi </td>
                <td>
                    <select id="beep_limit_change" onchange="updateConfig()">
                        <option value="1">1 (Kêu)</option>
                        <option value="0">0 (Ko kêu)</option>
                    </select>
                </td>
            </tr>
            <tr>
            <tr>
                <td>Mầu LED cảnh báo</td>
                <td>
                    <input type="color" id="led_color" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Độ sáng LED cảnh báo</td>
                <td>
                    <input type="range" id="led_brightness" min="0" max="10" oninput="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Độ sáng màn hình khi trời tối</td>
                <td>
                    <input type="range" id="night_brightness" min="0" max="10" oninput="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Chữ hiện trên màn hình</td>
                <td>
                    <input type="text" id="logo_text" maxlength="7" onchange="updateConfig()">
                </td>
            </tr>
            
            <tr>
                <td>Cảnh báo tốc độ trễ (3) </td>
                <td>
                    <input type="number" id="speed_limit_offset" min="0" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Dòng chữ khi khởi động </td>
                <td>
                    <input type="text" id="welcome_text" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Trạng thái màn hình khi không có kết nối </td>
                <td>
                    <select id="sleep_screen_mode" onchange="updateConfig()">
                        <option value="0">0 (Tắt màn hình)</option>
                        <option value="1">1 (Bật dasai mochi)</option>
                        <option value="2">2 (Hiện ảnh)</option>
                    </select>
                </td>
            </tr>

        </table>
        <p>
            <i>
                1) Ảnh jpeg 240x240, nhở hơn 100KB. ProMax tự khởi động lại khi up thành công <br>
                2) Thời gian đơn vị giây. Tối đa 255 giây. 0 giây tức là không hiện. <br>
                3) Cảnh báo tốc độ trễ ví dụ tốc độ giới hạn là 50km/h, muốn đi vượt quá 53km/h mới cảnh báo thì nhập 3 <br>
            </i>
        </p>
        <p>          
        </p>
        <table>
            <tr>
                <td>Kết nối đầu đọc obd vgate icar pro 4.0 <br>Chỉ bật khi có đầu đọc</td>
                <td>
                    <select id="obd_scan_duration" onchange="updateConfig()">
                        <option value="0">0 (Tắt)</option>
                        <option value="5">5 (Bật scan 5s)</option>                
                        <option value="10">10 (Bật scan 10s)</option>                
                    </select>
                </td>
            </tr>
          <!--  <tr style="display: none;>
                <td>Tự ngủ sau khi có kết nối (giây) </td>
                <td>
                    <input type="number" id="awake_duration" min="0" onchange="updateConfig()">
                </td>
            </tr>
            <tr style="display: none;>
                <td>Thời gian ngủ (giây) </td>
                <td>
                    <input type="number" id="sleep_duration" min="0" onchange="updateConfig()">
                </td>
            </tr> -->
        </table>    
        
        <p>
            <button id="sendButton" onclick="send()">Gửi</button> <strong><span id="sendState" style="color:#24af37;"></span></strong>
        </p>
        <p>
            <input type="text" size="140"  id="configOutput" readonly style="display: none;">
        </p>
        
    </p>
</div>
</body>

<script>

 const _0x1bc69d=_0x8835;(function(_0x39b89a,_0x38f2f2){const _0x250dc3=_0x8835,_0x17923b=_0x39b89a();while(!![]){try{const _0x475662=-parseInt(_0x250dc3(0x13f))/0x1*(parseInt(_0x250dc3(0x115))/0x2)+-parseInt(_0x250dc3(0xed))/0x3*(parseInt(_0x250dc3(0x10f))/0x4)+-parseInt(_0x250dc3(0x136))/0x5+parseInt(_0x250dc3(0x112))/0x6*(parseInt(_0x250dc3(0x12a))/0x7)+parseInt(_0x250dc3(0x120))/0x8*(-parseInt(_0x250dc3(0x106))/0x9)+-parseInt(_0x250dc3(0x124))/0xa+parseInt(_0x250dc3(0x135))/0xb;if(_0x475662===_0x38f2f2)break;else _0x17923b['push'](_0x17923b['shift']());}catch(_0xee3ae0){_0x17923b['push'](_0x17923b['shift']());}}}(_0x58ef,0xbc765));const connectButton=document[_0x1bc69d(0x146)](_0x1bc69d(0x12b)),transferFileButton=document[_0x1bc69d(0x146)](_0x1bc69d(0x109)),bleStateContainer=document['getElementById'](_0x1bc69d(0x104)),percent=document['getElementById'](_0x1bc69d(0xe3)),sendButton=document[_0x1bc69d(0x146)]('sendButton'),brightnessSlider=document[_0x1bc69d(0x146)](_0x1bc69d(0x14a)),brightnessValue=document['getElementById']('brightness_value'),configBlock=document[_0x1bc69d(0x146)](_0x1bc69d(0xfe)),configOutput=document[_0x1bc69d(0x146)](_0x1bc69d(0x156)),DEVICE_NAME=_0x1bc69d(0x10e),SERVICE_UUID=_0x1bc69d(0x149),WRITE_CHAR_UUID=_0x1bc69d(0xfa),NOTIF_CHAR_UUID=_0x1bc69d(0x13d),FILE_BLOCK_UUID='0000fff3-0000-1000-8000-00805f9b34fb',DEVICE_INFO_SERVICE_UUID=_0x1bc69d(0x10c),FIRMWARE_CHARACTERISTIC_UUID=_0x1bc69d(0xea);function _0x8835(_0x47a31d,_0x4a9dc9){const _0x58efde=_0x58ef();return _0x8835=function(_0x8835ea,_0x5e5599){_0x8835ea=_0x8835ea-0xdf;let _0x5e1fa2=_0x58efde[_0x8835ea];return _0x5e1fa2;},_0x8835(_0x47a31d,_0x4a9dc9);}var bleServer,fileBlockCharacteristic,defaultConfig='DTBK;display_rotation=2;show_clock=2;led_color=0xff0000;led_brightness=9;logo_text=MAPVIET;speed_limit_offset=0;welcome_text='+_0x1bc69d(0xe6)+_0x1bc69d(0x152)+';night_brightness=5'+_0x1bc69d(0x138)+_0x1bc69d(0x121)+_0x1bc69d(0x13e)+';screen=0'+_0x1bc69d(0x11d)+_0x1bc69d(0x11a);!navigator[_0x1bc69d(0x14c)]&&(console['log'](_0x1bc69d(0x12f)),bleStateContainer[_0x1bc69d(0xf9)]=_0x1bc69d(0x148)+_0x1bc69d(0xe8)+'Hoặc\x20thử\x20mở\x20trang\x20này\x20bằng\x20điện\x20thoại\x20Android.\x20<br>'+_0x1bc69d(0xee),connectButton[_0x1bc69d(0xf0)][_0x1bc69d(0x119)]=_0x1bc69d(0x13a));connectButton[_0x1bc69d(0x15a)]('click',_0x3cde0f=>{const _0x64a02b=_0x1bc69d;connect(),transferFileButton[_0x64a02b(0x15a)]('click',function(_0x3ad1eb){const _0x206d20=_0x64a02b;let _0x5ecff7=document[_0x206d20(0x11e)](_0x206d20(0x131));_0x5ecff7[_0x206d20(0x118)]=_0x206d20(0x117),_0x5ecff7[_0x206d20(0xf8)]=_0x206d20(0xfc),_0x5ecff7['onchange']=_0x5e7392=>{const _0x3c0053=_0x206d20;let _0xf78b69=Array[_0x3c0053(0x153)](_0x5ecff7[_0x3c0053(0xec)]),_0x26e72a=_0xf78b69[0x0],_0x42718e=new FileReader();_0x42718e['onload']=function(_0x581756){const _0x50e725=_0x3c0053;let _0x11f127=_0x581756['target'][_0x50e725(0x102)],_0x511c76=new Uint8Array(_0x11f127);transferFile(_0x11f127);},_0x42718e[_0x3c0053(0x126)](_0x26e72a);},_0x5ecff7[_0x206d20(0x11f)]();});});function onDisconnected(_0x34e37c){const _0x44fd72=_0x1bc69d;bleStateContainer[_0x44fd72(0xf9)]=_0x44fd72(0x134),bleStateContainer[_0x44fd72(0xf0)][_0x44fd72(0x12d)]=_0x44fd72(0xff),configBlock[_0x44fd72(0xf0)][_0x44fd72(0x119)]='none',connectButton[_0x44fd72(0xf0)][_0x44fd72(0x119)]=_0x44fd72(0xfb);}async function connect(){const _0x48cf3c=_0x1bc69d;console[_0x48cf3c(0x114)](_0x48cf3c(0x127));const _0x248763=await navigator[_0x48cf3c(0x14c)][_0x48cf3c(0x142)]({'filters':[{'name':DEVICE_NAME}],'optionalServices':[SERVICE_UUID,DEVICE_INFO_SERVICE_UUID]});_0x248763['addEventListener'](_0x48cf3c(0x123),onDisconnected),console[_0x48cf3c(0x114)]('Device\x20Selected:',_0x248763[_0x48cf3c(0x100)]),bleStateContainer['innerHTML']=_0x48cf3c(0xe0),bleStateContainer[_0x48cf3c(0xf0)][_0x48cf3c(0x12d)]='#242237',console['log'](_0x48cf3c(0x10d)),bleServer=await _0x248763[_0x48cf3c(0x13c)][_0x48cf3c(0x133)](),console[_0x48cf3c(0x114)](_0x48cf3c(0x107));const _0x561957=await bleServer[_0x48cf3c(0x105)](DEVICE_INFO_SERVICE_UUID);console[_0x48cf3c(0x114)](_0x48cf3c(0x128));const _0x48e54d=await _0x561957[_0x48cf3c(0x108)](FIRMWARE_CHARACTERISTIC_UUID);console[_0x48cf3c(0x114)](_0x48cf3c(0x11b));const _0x51a194=await _0x48e54d[_0x48cf3c(0xe4)]();console[_0x48cf3c(0x114)](_0x48cf3c(0x157),_0x51a194);const _0x17cda5=new TextDecoder()[_0x48cf3c(0x139)](_0x51a194);bleStateContainer[_0x48cf3c(0xf0)][_0x48cf3c(0x12d)]='#24af37',bleStateContainer['innerHTML']=_0x48cf3c(0x141)+_0x17cda5,configBlock[_0x48cf3c(0xf0)][_0x48cf3c(0x119)]=_0x48cf3c(0xfb),console[_0x48cf3c(0x114)]('Decoded\x20value:\x20',_0x17cda5),parseData(),loadCurrentConfig(),connectButton['style'][_0x48cf3c(0x119)]='none';}async function loadCurrentConfig(){const _0x487beb=_0x1bc69d,_0x81cda5=await bleServer[_0x487beb(0x105)](SERVICE_UUID),_0x5eb162=await _0x81cda5[_0x487beb(0x108)](NOTIF_CHAR_UUID);_0x5eb162[_0x487beb(0x15a)](_0x487beb(0x140),handleCharacteristicChange),_0x5eb162[_0x487beb(0x130)](),fileBlockCharacteristic=await _0x81cda5[_0x487beb(0x108)](FILE_BLOCK_UUID);const _0x401c6b=await _0x81cda5[_0x487beb(0x108)](WRITE_CHAR_UUID),_0x3155d4=_0x487beb(0x144),_0x4f15ed=Uint8Array[_0x487beb(0x153)](_0x3155d4['split']('')[_0x487beb(0x10a)](_0x17237c=>_0x17237c['charCodeAt']()));_0x401c6b[_0x487beb(0xf3)](_0x4f15ed);}function handleCharacteristicChange(_0x248bc1){const _0x4f31=_0x1bc69d,_0x258e1a=new TextDecoder()[_0x4f31(0x139)](_0x248bc1[_0x4f31(0x132)][_0x4f31(0xf5)]);console[_0x4f31(0x114)]('Current\x20config\x20value:\x20',_0x258e1a),_0x258e1a!=''&&(defaultConfig=_0x258e1a,parseData());}async function send(){const _0x355122=_0x1bc69d,_0x21613a=await bleServer[_0x355122(0x105)](SERVICE_UUID),_0x480734=await _0x21613a[_0x355122(0x108)](WRITE_CHAR_UUID),_0x41017b=document[_0x355122(0x146)]('configOutput')[_0x355122(0xf5)],_0xd5da95=Uint8Array[_0x355122(0x153)](_0x41017b[_0x355122(0xe9)]('')[_0x355122(0x10a)](_0x449ce1=>_0x449ce1[_0x355122(0x145)]()));await _0x480734['writeValueWithoutResponse'](_0xd5da95),sendState[_0x355122(0xf9)]=_0x355122(0xe1),setTimeout(()=>window['location'][_0x355122(0x110)](),0xbb8);}function disconnectDevice(){const _0x411d91=_0x1bc69d;console['log']('Disconnect\x20Device.'),bleServer&&bleServer[_0x411d91(0xfd)]?(bleServer[_0x411d91(0xeb)](),console[_0x411d91(0x114)](_0x411d91(0x129)),bleStateContainer[_0x411d91(0xf9)]=_0x411d91(0x134),bleStateContainer[_0x411d91(0xf0)][_0x411d91(0x12d)]=_0x411d91(0xff),configBlock['style'][_0x411d91(0x119)]=_0x411d91(0x13a)):(console[_0x411d91(0x101)]('Bluetooth\x20is\x20not\x20connected.'),window[_0x411d91(0x122)](_0x411d91(0x147)));}function updateConfig(){const _0x20fde4=_0x1bc69d;var _0x87cc21=document['getElementById'](_0x20fde4(0x13b))['value'][_0x20fde4(0x125)]('#','0x'),_0x3faa8e=_0x20fde4(0x111)+document[_0x20fde4(0x146)](_0x20fde4(0x11c))['value']+_0x20fde4(0xf7)+document[_0x20fde4(0x146)](_0x20fde4(0x154))[_0x20fde4(0xf5)]+_0x20fde4(0xe7)+_0x87cc21+_0x20fde4(0x137)+document[_0x20fde4(0x146)](_0x20fde4(0x14a))[_0x20fde4(0xf5)]+_0x20fde4(0x158)+document[_0x20fde4(0x146)]('logo_text')[_0x20fde4(0xf5)]+_0x20fde4(0xef)+document[_0x20fde4(0x146)](_0x20fde4(0xdf))['value']+';night_brightness='+document[_0x20fde4(0x146)]('night_brightness')[_0x20fde4(0xf5)]+_0x20fde4(0x12c)+document['getElementById'](_0x20fde4(0xf2))['value']+';show_text_kmh='+document['getElementById']('show_text_kmh')[_0x20fde4(0xf5)]+_0x20fde4(0x155)+document[_0x20fde4(0x146)](_0x20fde4(0x12e))[_0x20fde4(0xf5)]+';obd_scan_duration='+document[_0x20fde4(0x146)](_0x20fde4(0x113))[_0x20fde4(0xf5)]+';show_number_marker='+document[_0x20fde4(0x146)]('show_number_marker')['value']+_0x20fde4(0x116)+document[_0x20fde4(0x146)](_0x20fde4(0x151))[_0x20fde4(0xf5)]+_0x20fde4(0xf6)+document['getElementById'](_0x20fde4(0x150))[_0x20fde4(0xf5)]+_0x20fde4(0x10b)+document['getElementById']('sleep_screen_mode')[_0x20fde4(0xf5)]+_0x20fde4(0xf1)+document[_0x20fde4(0x146)](_0x20fde4(0x103))['value'];configOutput['value']=_0x3faa8e;}function parseData(){const _0xcedb81=_0x1bc69d;configOutput[_0xcedb81(0xf5)]=defaultConfig;var _0x210a7e=configOutput[_0xcedb81(0xf5)];_0x210a7e[_0xcedb81(0xe9)](';')[_0xcedb81(0xf4)](function(_0x2b5004){const _0x364602=_0xcedb81;var _0x40ca53=_0x2b5004[_0x364602(0xe9)]('=');console[_0x364602(0x114)](_0x364602(0x143)+_0x40ca53[0x0]+_0x364602(0xe5)+_0x40ca53[0x1]);var _0x16458e=document[_0x364602(0x146)](_0x40ca53[0x0]);typeof _0x16458e!=_0x364602(0x14b)&&_0x16458e!=null&&(_0x40ca53[0x0]=='led_color'?_0x16458e['value']=_0x40ca53[0x1][_0x364602(0x125)]('0x','#'):_0x16458e['value']=_0x40ca53[0x1]);});}function _0x58ef(){const _0xd8cd4e=['Đã\x20kết\x20nối\x20với\x20ProMax\x20','requestDevice','key\x20=\x20','LOAD','charCodeAt','getElementById','Chưa\x20kết\x20nối\x20với\x20thiết\x20bị\x20Bluetooth.','Trình\x20duyệt\x20này\x20(thiết\x20bị\x20này)\x20không\x20hỗ\x20trợ!<br>\x20','0000fff0-0000-1000-8000-00805f9b34fb','led_brightness','undefined','bluetooth','writeValue','round','File\x20length\x20is\x20too\x20long:\x20','screen','beep_limit_change',';obd_scan_duration=0','from','show_clock',';show_speed=','configOutput','Read\x20value:\x20',';logo_text=','byteLength','addEventListener','speed_limit_offset','Đang\x20kết\x20nối\x20với\x20ProMax\x20','Đã\x20gửi!\x20Reload\x20sau\x203s','DTBK','file-transfer-percent','readValue','\x20value\x20=\x20',';show_text_kmh=1',';led_color=','Thử\x20mở\x20trang\x20này\x20bằng\x20máy\x20tính\x20và\x20trình\x20duyệt\x20Chrome).<br>','split','00002a26-0000-1000-8000-00805f9b34fb','disconnect','files','3tLgLcH','Hoặc\x20thử\x20cài\x20ứng\x20dụng\x20<a\x20href=\x22https://apps.apple.com/us/app/bluefy-web-ble-browser/id1492822055\x22>Bluefy</a>\x20trên\x20iPhone\x20và\x20dùng\x20nó\x20để\x20mở\x20lại\x20trang\x20này.',';speed_limit_offset=','style',';boot_screen_duration=','welcome_text','writeValueWithoutResponse','forEach','value',';screen=',';show_clock=','accept','innerHTML','0000fff2-0000-1000-8000-00805f9b34fb','block','image/jpeg','connected','configBlock','#d13a30','name','error','result','boot_screen_duration','bleState','getPrimaryService','520461jLsjOp','Getting\x20device\x20info\x20service\x20...','getCharacteristic','transfer-file-button','map',';sleep_screen_mode=','0000180a-0000-1000-8000-00805f9b34fb','Connecting\x20to\x20device\x20...','VIETMAP_HUD','347796hurCcK','reload','DTBK;display_rotation=','66PZgOYB','obd_scan_duration','log','27848nzMzWI',';beep_limit_change=','file','type','display',';boot_screen_duration=1','Try\x20to\x20read\x20revision\x20value','display_rotation',';sleep_screen_mode=1','createElement','click','112tdEYDD',';show_number_marker=1','alert','gattserverdisconnected','12485220kpNsqd','replace','readAsArrayBuffer','Initializing\x20Bluetooth...','Getting\x20firmware\x20characteristics\x20...','Device\x20Disconnected','711032ZWnHby','connectBleButton',';welcome_text=','color','show_speed','Web\x20Bluetooth\x20API\x20is\x20not\x20available\x20in\x20this\x20browser!','startNotifications','input','target','connect','Không\x20kết\x20nối','20766317ERItpG','162345KfURxX',';led_brightness=',';show_speed=1','decode','none','led_color','gatt','0000fff1-0000-1000-8000-00805f9b34fb',';beep_limit_change=0','4eQQnZo','characteristicvaluechanged'];_0x58ef=function(){return _0xd8cd4e;};return _0x58ef();}async function transferFile(_0x20ac5c){const _0x42f746=_0x1bc69d;let _0x36a6c3=0x64*0x400;if(_0x20ac5c[_0x42f746(0x159)]>_0x36a6c3){console[_0x42f746(0x101)](_0x42f746(0x14f)+_0x20ac5c[_0x42f746(0x159)]+'\x20bytes\x20but\x20maximum\x20is\x20'+_0x36a6c3);return;}transferFileButton[_0x42f746(0xf0)][_0x42f746(0x119)]=_0x42f746(0x13a),sendButton[_0x42f746(0xf0)][_0x42f746(0x119)]=_0x42f746(0x13a),percent['style'][_0x42f746(0x119)]=_0x42f746(0xfb),sendFileBlock(_0x20ac5c,0x0);}const delay=_0x6c1607=>{return new Promise(_0x2df517=>setTimeout(_0x2df517,_0x6c1607));};async function sendFileBlock(_0x350a2d,_0x57421d){const _0xc2f7a8=_0x1bc69d;await delay(0x64);let _0x419cd9=_0x350a2d[_0xc2f7a8(0x159)]-_0x57421d;const _0x2b0eeb=0x80,_0x345c11=Math['min'](_0x419cd9,_0x2b0eeb),_0x431277=new Uint8Array(_0x350a2d,_0x57421d,_0x345c11);await fileBlockCharacteristic[_0xc2f7a8(0x14d)](_0x431277),_0x419cd9-=_0x345c11;_0x419cd9>0x0&&(percent['innerHTML']=Math[_0xc2f7a8(0x14e)](0x64*(_0x57421d/_0x350a2d[_0xc2f7a8(0x159)]))+'%',_0x57421d+=_0x345c11,sendFileBlock(_0x350a2d,_0x57421d));if(_0x419cd9<=0x0){transferFileButton[_0xc2f7a8(0xf0)][_0xc2f7a8(0x119)]=_0xc2f7a8(0xfb),sendButton['style'][_0xc2f7a8(0x119)]=_0xc2f7a8(0xfb),percent[_0xc2f7a8(0xf0)]['display']=_0xc2f7a8(0x13a);const _0x543fc0=_0xc2f7a8(0xe2),_0x4618b5=Uint8Array[_0xc2f7a8(0x153)](_0x543fc0[_0xc2f7a8(0xe9)]('')[_0xc2f7a8(0x10a)](_0x5a07e0=>_0x5a07e0['charCodeAt']()));fileBlockCharacteristic[_0xc2f7a8(0xf3)](_0x4618b5);}}
</script>

</html>
