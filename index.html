<!DOCTYPE html>

<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->

<html>
<head>
    <title>Tuỳ biến ProMax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
     <style>
        body {
            font-family: Arial, sans-serif;
            margin: 10;
            padding: 0;
            background-color: #f0f0f0;
        }
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
    </style>
</head>
<body>
    <div class="topnav">
        <h1>Tuỳ biến ProMax</h1>
    </div>
    <div class="content">
        <p>
            <button id="connectBleButton" class="connectButton"> Kết nối ProMax </button>
        </p>
        <p class="gray-label">Trạng thái kết nối: <strong><span id="bleState" style="color:#d13a30;">Không kết nối</span></strong></p>
   
    </div>
    
    <div id="configBlock" style="display: none;">
    <p>Đọc kỹ chú ý phía cuối trang!</p>
    <p>Đọc kỹ chú ý phía cuối trang!</p>
    <p>
        <p>
            Sửa giá trị trong bảng dưới rồi ấn <b>Gửi</b>
        </p>
        <table>
            <tr>
                <td>Xoay màn hình (chọn đến khi phù hợp)</td>
                <td>
                    <select id="display_rotation" onchange="updateConfig()">
                        <option value="0">0 (Hướng 0)</option>
                        <option value="1">1 (Hướng 1)</option>
                        <option value="2">2 (Hướng 2)</option>
                        <option value="3">3 (Hướng 3)</option>
                        <option value="4">4 (Hướng 4, ảnh ngược)</option>
                        <option value="5">5 (Hướng 5, ảnh ngược)</option>
                        <option value="6">6 (Hướng 6, ảnh ngược)</option>
                        <option value="7">7 (Hướng 7, ảnh ngược)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Giao diện màn hình</td>
                <td>
                    <select id="screen" onchange="updateConfig()">
                        <option value="0">0 (Đầy đủ)</option>
                        <option value="1">1 (Chỉ tốc độ giới hạn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Ẩn hiện đồng hồ</td>
                <td>
                    <select id="show_clock" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Ẩn hiện chữ "km/h"</td>
                <td>
                    <select id="show_text_kmh" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Ẩn hiện số 0 10 20 ... 130 </td>
                <td>
                    <select id="show_number_marker" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Hiện tốc độ khi ko có cam </td>
                <td>
                    <select id="show_speed" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Upload ảnh màn hình khởi động, và ảnh màn chờ (1) </td>
                <td>
                    <button id="transfer-file-button">Upload</button>
                    <div id="file-transfer-percent" style="display: none;">0%</div>
                </td>
            </tr>
            <tr>
                <td>Thời gian hiện ảnh màn hình khởi động (2) </td>
                <td>
                    <input type="number" id="boot_screen_duration" min="0" max="255" onchange="updateConfig()">
                </td>
            </tr>
            <tr>
                <td>Kêu bip khi tốc độ giới hạn thay đổi </td>
                <td>
                    <select id="beep_limit_change" onchange="updateConfig()">
                        <option value="1">1 (Kêu)</option>
                        <option value="0">0 (Ko kêu)</option>
                    </select>
                </td>
            </tr>
            <tr>
            <tr>
                <td>Mầu LED cảnh báo</td>
                <td>
                    <input type="color" id="led_color" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Độ sáng LED cảnh báo</td>
                <td>
                    <input type="range" id="led_brightness" min="0" max="10" oninput="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Độ sáng màn hình khi trời tối</td>
                <td>
                    <input type="range" id="night_brightness" min="0" max="10" oninput="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Chữ hiện trên màn hình</td>
                <td>
                    <input type="text" id="logo_text" maxlength="7" onchange="updateConfig()">
                </td>
            </tr>
            
            <tr>
                <td>Cảnh báo tốc độ trễ (3) </td>
                <td>
                    <input type="number" id="speed_limit_offset" min="0" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Dòng chữ khi khởi động </td>
                <td>
                    <input type="text" id="welcome_text" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Trạng thái màn hình khi không có kết nối </td>
                <td>
                    <select id="sleep_screen_mode" onchange="updateConfig()">
                        <option value="0">0 (Tắt màn hình)</option>
                        <option value="1">1 (Bật dasai mochi)</option>
                        <option value="2">2 (Hiện ảnh)</option>
                    </select>
                </td>
            </tr>

        </table>
        <p>
            <i>
                1) Ảnh jpeg 240x240, nhở hơn 100KB. ProMax tự khởi động lại khi up thành công <br>
                2) Thời gian đơn vị giây. Tối đa 255 giây. 0 giây tức là không hiện. <br>
                3) Cảnh báo tốc độ trễ ví dụ tốc độ giới hạn là 50km/h, muốn đi vượt quá 53km/h mới cảnh báo thì nhập 3 <br>
            </i>
        </p>
        <p>          
        </p>
        <table>
            <tr>
                <td>Kết nối đầu đọc obd vgate icar pro 4.0 <br>Chỉ bật khi có đầu đọc</td>
                <td>
                    <select id="obd_scan_duration" onchange="updateConfig()">
                        <option value="0">0 (Tắt)</option>
                        <option value="5">5 (Bật scan 5s)</option>                
                        <option value="10">10 (Bật scan 10s)</option>                
                    </select>
                </td>
            </tr>
          <!--  <tr style="display: none;>
                <td>Tự ngủ sau khi có kết nối (giây) </td>
                <td>
                    <input type="number" id="awake_duration" min="0" onchange="updateConfig()">
                </td>
            </tr>
            <tr style="display: none;>
                <td>Thời gian ngủ (giây) </td>
                <td>
                    <input type="number" id="sleep_duration" min="0" onchange="updateConfig()">
                </td>
            </tr> -->
        </table>    
        
        <p>
            <button id="sendButton" onclick="send()">Gửi</button> <strong><span id="sendState" style="color:#24af37;"></span></strong>
        </p>
        <p>
            <input type="text" size="140"  id="configOutput" readonly style="display: none;">
        </p>
        
    </p>
</div>
</body>

<script>

 const _0x1159c9=_0x31d1;(function(_0x47da0e,_0x3c694d){const _0x954bbc=_0x31d1,_0x523b96=_0x47da0e();while(!![]){try{const _0x46fd99=-parseInt(_0x954bbc(0x10f))/0x1*(-parseInt(_0x954bbc(0x11c))/0x2)+parseInt(_0x954bbc(0x144))/0x3*(parseInt(_0x954bbc(0x14e))/0x4)+parseInt(_0x954bbc(0x129))/0x5*(parseInt(_0x954bbc(0x176))/0x6)+parseInt(_0x954bbc(0x10c))/0x7+parseInt(_0x954bbc(0x172))/0x8*(parseInt(_0x954bbc(0x17e))/0x9)+-parseInt(_0x954bbc(0x139))/0xa*(parseInt(_0x954bbc(0x170))/0xb)+-parseInt(_0x954bbc(0x17b))/0xc*(parseInt(_0x954bbc(0x12d))/0xd);if(_0x46fd99===_0x3c694d)break;else _0x523b96['push'](_0x523b96['shift']());}catch(_0x2c4643){_0x523b96['push'](_0x523b96['shift']());}}}(_0xa2b0,0xec14f));const connectButton=document[_0x1159c9(0x116)]('connectBleButton'),transferFileButton=document[_0x1159c9(0x116)]('transfer-file-button'),bleStateContainer=document[_0x1159c9(0x116)](_0x1159c9(0x175)),percent=document[_0x1159c9(0x116)]('file-transfer-percent'),sendButton=document[_0x1159c9(0x116)]('sendButton'),brightnessSlider=document['getElementById']('led_brightness'),brightnessValue=document[_0x1159c9(0x116)](_0x1159c9(0x13a)),configBlock=document['getElementById']('configBlock'),configOutput=document[_0x1159c9(0x116)]('configOutput'),DEVICE_NAME=_0x1159c9(0x12f),SERVICE_UUID=_0x1159c9(0x157),WRITE_CHAR_UUID=_0x1159c9(0x11d),NOTIF_CHAR_UUID=_0x1159c9(0x121),FILE_BLOCK_UUID=_0x1159c9(0x156),DEVICE_INFO_SERVICE_UUID=_0x1159c9(0x126),FIRMWARE_CHARACTERISTIC_UUID=_0x1159c9(0x17c);function _0x31d1(_0x3258ec,_0x3a0184){const _0xa2b0b9=_0xa2b0();return _0x31d1=function(_0x31d156,_0x24b49c){_0x31d156=_0x31d156-0x10a;let _0x32c63f=_0xa2b0b9[_0x31d156];return _0x32c63f;},_0x31d1(_0x3258ec,_0x3a0184);}var bleServer,fileBlockCharacteristic,defaultConfig=_0x1159c9(0x136)+_0x1159c9(0x13b)+_0x1159c9(0x125)+_0x1159c9(0x161)+_0x1159c9(0x131)+';show_number_marker=1'+_0x1159c9(0x13d)+_0x1159c9(0x166)+_0x1159c9(0x11a)+_0x1159c9(0x169);!navigator[_0x1159c9(0x15d)]&&(console[_0x1159c9(0x12e)](_0x1159c9(0x128)),bleStateContainer['innerHTML']=_0x1159c9(0x143)+_0x1159c9(0x130)+_0x1159c9(0x14f)+_0x1159c9(0x17f),connectButton[_0x1159c9(0x11e)][_0x1159c9(0x10b)]=_0x1159c9(0x16f));connectButton[_0x1159c9(0x165)](_0x1159c9(0x15b),_0x127e53=>{connect(),transferFileButton['addEventListener']('click',function(_0x2092bd){const _0x582eb6=_0x31d1;let _0x1856e3=document['createElement'](_0x582eb6(0x17d));_0x1856e3[_0x582eb6(0x135)]=_0x582eb6(0x15a),_0x1856e3[_0x582eb6(0x110)]=_0x582eb6(0x154),_0x1856e3[_0x582eb6(0x147)]=_0x29e7b4=>{const _0x4d682f=_0x582eb6;let _0x330682=Array[_0x4d682f(0x171)](_0x1856e3[_0x4d682f(0x167)]),_0x484dd9=_0x330682[0x0],_0x97b05b=new FileReader();_0x97b05b['onload']=function(_0x2269e1){const _0x269649=_0x4d682f;let _0x1b9c6d=_0x2269e1[_0x269649(0x15c)][_0x269649(0x145)],_0x49c457=new Uint8Array(_0x1b9c6d);transferFile(_0x1b9c6d);},_0x97b05b[_0x4d682f(0x113)](_0x484dd9);},_0x1856e3['click']();});});function onDisconnected(_0x57f667){const _0x562879=_0x1159c9;bleStateContainer[_0x562879(0x12c)]=_0x562879(0x163),bleStateContainer['style'][_0x562879(0x133)]=_0x562879(0x16c),configBlock[_0x562879(0x11e)][_0x562879(0x10b)]='none',connectButton[_0x562879(0x11e)][_0x562879(0x10b)]=_0x562879(0x179);}async function connect(){const _0x53ee62=_0x1159c9;console[_0x53ee62(0x12e)]('Initializing\x20Bluetooth...');const _0x3381a1=await navigator['bluetooth'][_0x53ee62(0x168)]({'filters':[{'name':DEVICE_NAME}],'optionalServices':[SERVICE_UUID,DEVICE_INFO_SERVICE_UUID]});_0x3381a1['addEventListener']('gattserverdisconnected',onDisconnected),console[_0x53ee62(0x12e)]('Device\x20Selected:',_0x3381a1['name']),bleStateContainer[_0x53ee62(0x12c)]=_0x53ee62(0x146),bleStateContainer['style'][_0x53ee62(0x133)]='#242237',console['log'](_0x53ee62(0x14c)),bleServer=await _0x3381a1[_0x53ee62(0x16b)][_0x53ee62(0x117)](),console[_0x53ee62(0x12e)](_0x53ee62(0x149));const _0x104f7b=await bleServer[_0x53ee62(0x138)](DEVICE_INFO_SERVICE_UUID);console[_0x53ee62(0x12e)](_0x53ee62(0x14b));const _0x302fd9=await _0x104f7b['getCharacteristic'](FIRMWARE_CHARACTERISTIC_UUID);console[_0x53ee62(0x12e)]('Try\x20to\x20read\x20revision\x20value');const _0x382a15=await _0x302fd9[_0x53ee62(0x180)]();console[_0x53ee62(0x12e)](_0x53ee62(0x15e),_0x382a15);const _0x2513f9=new TextDecoder()['decode'](_0x382a15);bleStateContainer['style']['color']=_0x53ee62(0x162),bleStateContainer[_0x53ee62(0x12c)]=_0x53ee62(0x10a)+_0x2513f9,configBlock[_0x53ee62(0x11e)][_0x53ee62(0x10b)]=_0x53ee62(0x179),console[_0x53ee62(0x12e)](_0x53ee62(0x123),_0x2513f9),parseData(),loadCurrentConfig(),connectButton[_0x53ee62(0x11e)][_0x53ee62(0x10b)]=_0x53ee62(0x16f);}async function loadCurrentConfig(){const _0x107f34=_0x1159c9,_0x444123=await bleServer[_0x107f34(0x138)](SERVICE_UUID),_0x40e678=await _0x444123[_0x107f34(0x174)](NOTIF_CHAR_UUID);_0x40e678[_0x107f34(0x165)](_0x107f34(0x111),handleCharacteristicChange),_0x40e678['startNotifications'](),fileBlockCharacteristic=await _0x444123[_0x107f34(0x174)](FILE_BLOCK_UUID);const _0x23c8f4=await _0x444123[_0x107f34(0x174)](WRITE_CHAR_UUID),_0x49eb1b='LOAD',_0xc40b27=Uint8Array[_0x107f34(0x171)](_0x49eb1b[_0x107f34(0x159)]('')[_0x107f34(0x16a)](_0x2462e0=>_0x2462e0[_0x107f34(0x112)]()));_0x23c8f4[_0x107f34(0x124)](_0xc40b27);}function handleCharacteristicChange(_0x3c939c){const _0x492df3=_0x1159c9,_0x3cddcf=new TextDecoder()['decode'](_0x3c939c[_0x492df3(0x15c)][_0x492df3(0x142)]);console[_0x492df3(0x12e)](_0x492df3(0x134),_0x3cddcf),_0x3cddcf!=''&&(defaultConfig=_0x3cddcf,parseData());}async function send(){const _0x16d877=_0x1159c9,_0x3ae517=await bleServer[_0x16d877(0x138)](SERVICE_UUID),_0x1fc6d7=await _0x3ae517[_0x16d877(0x174)](WRITE_CHAR_UUID),_0x185388=document[_0x16d877(0x116)](_0x16d877(0x141))[_0x16d877(0x142)],_0x2c1507=Uint8Array['from'](_0x185388[_0x16d877(0x159)]('')[_0x16d877(0x16a)](_0x32f79a=>_0x32f79a[_0x16d877(0x112)]()));await _0x1fc6d7[_0x16d877(0x124)](_0x2c1507),sendState['innerHTML']=_0x16d877(0x132),setTimeout(()=>window[_0x16d877(0x16e)][_0x16d877(0x150)](),0xbb8);}function disconnectDevice(){const _0xa45554=_0x1159c9;console[_0xa45554(0x12e)](_0xa45554(0x13c)),bleServer&&bleServer['connected']?(bleServer[_0xa45554(0x153)](),console[_0xa45554(0x12e)](_0xa45554(0x16d)),bleStateContainer[_0xa45554(0x12c)]='Không\x20kết\x20nối',bleStateContainer[_0xa45554(0x11e)][_0xa45554(0x133)]=_0xa45554(0x16c),configBlock[_0xa45554(0x11e)][_0xa45554(0x10b)]=_0xa45554(0x16f)):(console[_0xa45554(0x14a)]('Bluetooth\x20is\x20not\x20connected.'),window[_0xa45554(0x137)]('Chưa\x20kết\x20nối\x20với\x20thiết\x20bị\x20Bluetooth.'));}function _0xa2b0(){const _0x54bada=[';boot_screen_duration=1','map','gatt','#d13a30','Device\x20Disconnected','location','none','297GzDuba','from','24VSPTTs','undefined','getCharacteristic','bleState','492dHxcFO','round','show_text_kmh','block','night_brightness','552LcXzqR','00002a26-0000-1000-8000-00805f9b34fb','input','2807829RiNLVM','Hoặc\x20thử\x20cài\x20ứng\x20dụng\x20<a\x20href=\x22https://apps.apple.com/us/app/bluefy-web-ble-browser/id1492822055\x22>Bluefy</a>\x20trên\x20iPhone\x20và\x20dùng\x20nó\x20để\x20mở\x20lại\x20trang\x20này.','readValue','Đã\x20kết\x20nối\x20với\x20ProMax\x20','display','8104460AjpYMP','\x20value\x20=\x20','display_rotation','1467503DtvXqw','accept','characteristicvaluechanged','charCodeAt','readAsArrayBuffer',';speed_limit_offset=','led_brightness','getElementById','connect',';obd_scan_duration=',';welcome_text=',';sleep_screen_mode=1',';show_speed=','2PytdSt','0000fff2-0000-1000-8000-00805f9b34fb','style','replace','led_color','0000fff1-0000-1000-8000-00805f9b34fb','byteLength','Decoded\x20value:\x20','writeValueWithoutResponse',';obd_scan_duration=0','0000180a-0000-1000-8000-00805f9b34fb',';led_brightness=','Web\x20Bluetooth\x20API\x20is\x20not\x20available\x20in\x20this\x20browser!','40395qdDcvs',';led_color=',';logo_text=','innerHTML','550277vonBwJ','log','VIETMAP_HUD','Thử\x20mở\x20trang\x20này\x20bằng\x20máy\x20tính\x20và\x20trình\x20duyệt\x20Chrome).<br>',';show_speed=1','Đã\x20gửi!\x20Reload\x20sau\x203s','color','Current\x20config\x20value:\x20','type','DTBK;display_rotation=2;show_clock=1;led_color=0xff0000;led_brightness=9;logo_text=MAPVIET;speed_limit_offset=0;welcome_text=','alert','getPrimaryService','608370OUJQSv','brightness_value',';show_text_kmh=1','Disconnect\x20Device.',';beep_limit_change=0','forEach','show_speed','min','configOutput','value','Trình\x20duyệt\x20này\x20(thiết\x20bị\x20này)\x20không\x20hỗ\x20trợ!<br>\x20','15qEevFi','result','Đang\x20kết\x20nối\x20với\x20ProMax\x20','onchange','screen','Getting\x20device\x20info\x20service\x20...','error','Getting\x20firmware\x20characteristics\x20...','Connecting\x20to\x20device\x20...','speed_limit_offset','266416ZTvbsh','Hoặc\x20thử\x20mở\x20trang\x20này\x20bằng\x20điện\x20thoại\x20Android.\x20<br>','reload',';night_brightness=','show_number_marker','disconnect','image/jpeg','obd_scan_duration','0000fff3-0000-1000-8000-00805f9b34fb','0000fff0-0000-1000-8000-00805f9b34fb','boot_screen_duration','split','file','click','target','bluetooth','Read\x20value:\x20',';beep_limit_change=',';screen=',';night_brightness=5','#24af37','Không\x20kết\x20nối',';show_clock=','addEventListener',';screen=0','files','requestDevice'];_0xa2b0=function(){return _0x54bada;};return _0xa2b0();}function updateConfig(){const _0x4cd547=_0x1159c9;var _0x1b8f62=document[_0x4cd547(0x116)](_0x4cd547(0x120))[_0x4cd547(0x142)][_0x4cd547(0x11f)]('#','0x'),_0x2cc59c='DTBK;display_rotation='+document[_0x4cd547(0x116)](_0x4cd547(0x10e))['value']+_0x4cd547(0x164)+document['getElementById']('show_clock')[_0x4cd547(0x142)]+_0x4cd547(0x12a)+_0x1b8f62+_0x4cd547(0x127)+document[_0x4cd547(0x116)](_0x4cd547(0x115))['value']+_0x4cd547(0x12b)+document[_0x4cd547(0x116)]('logo_text')[_0x4cd547(0x142)]+_0x4cd547(0x114)+document['getElementById'](_0x4cd547(0x14d))[_0x4cd547(0x142)]+_0x4cd547(0x151)+document[_0x4cd547(0x116)](_0x4cd547(0x17a))[_0x4cd547(0x142)]+_0x4cd547(0x119)+document['getElementById']('welcome_text')['value']+';show_text_kmh='+document[_0x4cd547(0x116)](_0x4cd547(0x178))[_0x4cd547(0x142)]+_0x4cd547(0x11b)+document['getElementById'](_0x4cd547(0x13f))[_0x4cd547(0x142)]+_0x4cd547(0x118)+document[_0x4cd547(0x116)](_0x4cd547(0x155))[_0x4cd547(0x142)]+';show_number_marker='+document[_0x4cd547(0x116)](_0x4cd547(0x152))[_0x4cd547(0x142)]+_0x4cd547(0x15f)+document[_0x4cd547(0x116)]('beep_limit_change')[_0x4cd547(0x142)]+_0x4cd547(0x160)+document[_0x4cd547(0x116)](_0x4cd547(0x148))['value']+';sleep_screen_mode='+document[_0x4cd547(0x116)]('sleep_screen_mode')[_0x4cd547(0x142)]+';boot_screen_duration='+document[_0x4cd547(0x116)](_0x4cd547(0x158))[_0x4cd547(0x142)];configOutput['value']=_0x2cc59c;}function parseData(){const _0x2529c0=_0x1159c9;configOutput['value']=defaultConfig;var _0x26e338=configOutput[_0x2529c0(0x142)];_0x26e338[_0x2529c0(0x159)](';')[_0x2529c0(0x13e)](function(_0x12df45){const _0x2a9417=_0x2529c0;var _0x45755e=_0x12df45['split']('=');console[_0x2a9417(0x12e)]('key\x20=\x20'+_0x45755e[0x0]+_0x2a9417(0x10d)+_0x45755e[0x1]);var _0x1ea533=document[_0x2a9417(0x116)](_0x45755e[0x0]);typeof _0x1ea533!=_0x2a9417(0x173)&&_0x1ea533!=null&&(_0x45755e[0x0]==_0x2a9417(0x120)?_0x1ea533[_0x2a9417(0x142)]=_0x45755e[0x1][_0x2a9417(0x11f)]('0x','#'):_0x1ea533[_0x2a9417(0x142)]=_0x45755e[0x1]);});}async function transferFile(_0x529260){const _0x36bbe0=_0x1159c9;let _0xe67cda=0x64*0x400;if(_0x529260[_0x36bbe0(0x122)]>_0xe67cda){console[_0x36bbe0(0x14a)]('File\x20length\x20is\x20too\x20long:\x20'+_0x529260[_0x36bbe0(0x122)]+'\x20bytes\x20but\x20maximum\x20is\x20'+_0xe67cda);return;}transferFileButton[_0x36bbe0(0x11e)][_0x36bbe0(0x10b)]=_0x36bbe0(0x16f),sendButton[_0x36bbe0(0x11e)][_0x36bbe0(0x10b)]='none',percent['style'][_0x36bbe0(0x10b)]='block',sendFileBlock(_0x529260,0x0);}const delay=_0x4de121=>{return new Promise(_0x32e025=>setTimeout(_0x32e025,_0x4de121));};async function sendFileBlock(_0x54467f,_0x2a828d){const _0x2c2bde=_0x1159c9;await delay(0x64);let _0xd1e568=_0x54467f[_0x2c2bde(0x122)]-_0x2a828d;const _0x4206b9=0x80,_0x552c0c=Math[_0x2c2bde(0x140)](_0xd1e568,_0x4206b9),_0x412eef=new Uint8Array(_0x54467f,_0x2a828d,_0x552c0c);await fileBlockCharacteristic['writeValue'](_0x412eef),_0xd1e568-=_0x552c0c;_0xd1e568>0x0&&(percent['innerHTML']=Math[_0x2c2bde(0x177)](0x64*(_0x2a828d/_0x54467f['byteLength']))+'%',_0x2a828d+=_0x552c0c,sendFileBlock(_0x54467f,_0x2a828d));if(_0xd1e568<=0x0){transferFileButton[_0x2c2bde(0x11e)][_0x2c2bde(0x10b)]=_0x2c2bde(0x179),sendButton['style'][_0x2c2bde(0x10b)]='block',percent[_0x2c2bde(0x11e)][_0x2c2bde(0x10b)]=_0x2c2bde(0x16f);const _0x314270='DTBK',_0x4ce427=Uint8Array[_0x2c2bde(0x171)](_0x314270[_0x2c2bde(0x159)]('')[_0x2c2bde(0x16a)](_0x5ae4f4=>_0x5ae4f4[_0x2c2bde(0x112)]()));fileBlockCharacteristic[_0x2c2bde(0x124)](_0x4ce427);}}
</script>

</html>
