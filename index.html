<!DOCTYPE html>

<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->
<!-- Bác tìm kiếm gì ở đây? -->

<html>
<head>
    <title>Tuỳ biến ProMax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
     <style>
        body {
            font-family: Arial, sans-serif;
            margin: 10;
            padding: 0;
            background-color: #f0f0f0;
        }
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
    </style>
</head>
<body>
    <div class="topnav">
        <h1>Tuỳ biến ProMax</h1>
    </div>
    <div class="content">
        <p>
            <button id="connectBleButton" class="connectButton"> Kết nối ProMax </button>
        </p>
        <p class="gray-label">Trạng thái kết nối: <strong><span id="bleState" style="color:#d13a30;">Không kết nối</span></strong></p>
   
    </div>
    
    <div id="configBlock" style="display: none;">
    <p>Đọc kỹ chú ý phía cuối trang!</p>
    <p>Đọc kỹ chú ý phía cuối trang!</p>
    <p>
        <p>
            Sửa giá trị trong bảng dưới rồi ấn <b>Gửi</b>
        </p>
        <table>
            <tr>
                <td>Xoay màn hình (chọn đến khi phù hợp)</td>
                <td>
                    <select id="display_rotation" onchange="updateConfig()">
                        <option value="0">0 (Hướng 0)</option>
                        <option value="1">1 (Hướng 1)</option>
                        <option value="2">2 (Hướng 2)</option>
                        <option value="3">3 (Hướng 3)</option>
                        <option value="4">4 (Hướng 4, ảnh ngược)</option>
                        <option value="5">5 (Hướng 5, ảnh ngược)</option>
                        <option value="6">6 (Hướng 6, ảnh ngược)</option>
                        <option value="7">7 (Hướng 7, ảnh ngược)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Giao diện màn hình</td>
                <td>
                    <select id="screen" onchange="updateConfig()">
                        <option value="0">0 (Đầy đủ)</option>
                        <option value="1">1 (Chỉ tốc độ giới hạn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Hiện đồng hồ khi không có camera</td>
                <td>
                    <select id="show_clock" onchange="updateConfig()">
                        <option value="1">1 (Hiện đồng hồ)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Ẩn hiện chữ "km/h"</td>
                <td>
                    <select id="show_text_kmh" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Ẩn hiện số 0 10 20 ... 130 </td>
                <td>
                    <select id="show_number_marker" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Hiện tốc độ  </td>
                <td>
                    <select id="show_speed" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Hiện thời tiết </td>
                <td>
                    <select id="show_weather" onchange="updateConfig()">
                        <option value="1">1 (Hiện)</option>
                        <option value="0">0 (Ẩn)</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Upload ảnh màn hình khởi động, và ảnh màn chờ (1) </td>
                <td>
                    <button id="transfer-file-button">Upload</button>
                    <div id="file-transfer-percent" style="display: none;">0%</div>
                </td>
            </tr>
            <tr>
                <td>Thời gian hiện ảnh màn hình khởi động (2) </td>
                <td>
                    <input type="number" id="boot_screen_duration" min="0" max="255" onchange="updateConfig()">
                </td>
            </tr>
            <tr>
                <td>Kêu bip khi tốc độ giới hạn thay đổi </td>
                <td>
                    <select id="beep_limit_change" onchange="updateConfig()">
                        <option value="1">1 (Kêu)</option>
                        <option value="0">0 (Ko kêu)</option>
                    </select>
                </td>
            </tr>
            <tr>
            <tr>
                <td>Mầu LED cảnh báo</td>
                <td>
                    <input type="color" id="led_color" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Độ sáng LED cảnh báo</td>
                <td>
                    <input type="range" id="led_brightness" min="0" max="10" oninput="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Độ sáng màn hình khi trời tối</td>
                <td>
                    <input type="range" id="night_brightness" min="0" max="10" oninput="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Chữ hiện trên màn hình</td>
                <td>
                    <input type="text" id="logo_text" maxlength="7" onchange="updateConfig()">
                </td>
            </tr>
            
            <tr>
                <td>Cảnh báo tốc độ trễ (3) </td>
                <td>
                    <input type="number" id="speed_limit_offset" min="0" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Dòng chữ khi khởi động </td>
                <td>
                    <input type="text" id="welcome_text" onchange="updateConfig()">
                </td>
            </tr>

            <tr>
                <td>Trạng thái màn hình khi không có kết nối </td>
                <td>
                    <select id="sleep_screen_mode" onchange="updateConfig()">
                        <option value="0">0 (Tắt màn hình)</option>
                        <option value="1">1 (Bật dasai mochi)</option>
                        <option value="2">2 (Hiện ảnh)</option>
                    </select>
                </td>
            </tr>

        </table>
        <p>
            <i>
                1) Ảnh jpeg 240x240, nhở hơn 100KB. ProMax tự khởi động lại khi up thành công <br>
                2) Thời gian đơn vị giây. Tối đa 255 giây. 0 giây tức là không hiện. <br>
                3) Cảnh báo tốc độ trễ ví dụ tốc độ giới hạn là 50km/h, muốn đi vượt quá 53km/h mới cảnh báo thì nhập 3 <br>
            </i>
        </p>
        <p>          
        </p>
        <table>
            <tr>
                <td>Kết nối đầu đọc obd vgate icar pro 4.0 <br>Chỉ bật khi có đầu đọc</td>
                <td>
                    <select id="obd_scan_duration" onchange="updateConfig()">
                        <option value="0">0 (Tắt)</option>
                        <option value="5">5 (Bật scan 5s)</option>                
                        <option value="10">10 (Bật scan 10s)</option>                
                    </select>
                </td>
            </tr>

            <tr>
                <td>Giữ HUD luôn bật khi có kết nối OBD</td>
                <td>
                    <select id="keep_awake_on_obd" onchange="updateConfig()">
                        <option value="1">1 (Luôn bật)</option>
                        <option value="0">0 (Chỉ bật khi có kết nối vml)</option>                                        
                    </select>
                </td>
            </tr>
          <!--  <tr style="display: none;>
                <td>Tự ngủ sau khi có kết nối (giây) </td>
                <td>
                    <input type="number" id="awake_duration" min="0" onchange="updateConfig()">
                </td>
            </tr>
            <tr style="display: none;>
                <td>Thời gian ngủ (giây) </td>
                <td>
                    <input type="number" id="sleep_duration" min="0" onchange="updateConfig()">
                </td>
            </tr> -->
        </table>    
        
        <p>
            <button id="sendButton" onclick="send()">Gửi</button> <strong><span id="sendState" style="color:#24af37;"></span></strong>
        </p>
        <p>
            <input type="text" size="140"  id="configOutput" readonly style="display: none;">
        </p>
        
    </p>
</div>
</body>

<script>

 function _0x5a93(_0x3fa82c,_0x2418fa){const _0x3a941a=_0x3a94();return _0x5a93=function(_0x5a9362,_0x122278){_0x5a9362=_0x5a9362-0x79;let _0x36dfd2=_0x3a941a[_0x5a9362];return _0x36dfd2;},_0x5a93(_0x3fa82c,_0x2418fa);}const _0x3dab82=_0x5a93;(function(_0x661521,_0x1bb97e){const _0x2fcc60=_0x5a93,_0x5b7e8d=_0x661521();while(!![]){try{const _0x48eb73=parseInt(_0x2fcc60(0xf1))/0x1+parseInt(_0x2fcc60(0xd0))/0x2*(-parseInt(_0x2fcc60(0xea))/0x3)+parseInt(_0x2fcc60(0xd7))/0x4*(parseInt(_0x2fcc60(0xa9))/0x5)+parseInt(_0x2fcc60(0xa7))/0x6+-parseInt(_0x2fcc60(0xd9))/0x7+parseInt(_0x2fcc60(0xae))/0x8*(parseInt(_0x2fcc60(0xc6))/0x9)+parseInt(_0x2fcc60(0xb0))/0xa*(-parseInt(_0x2fcc60(0xf5))/0xb);if(_0x48eb73===_0x1bb97e)break;else _0x5b7e8d['push'](_0x5b7e8d['shift']());}catch(_0x55920a){_0x5b7e8d['push'](_0x5b7e8d['shift']());}}}(_0x3a94,0x29c6e));const connectButton=document[_0x3dab82(0xd4)](_0x3dab82(0xb8)),transferFileButton=document[_0x3dab82(0xd4)]('transfer-file-button'),bleStateContainer=document[_0x3dab82(0xd4)](_0x3dab82(0xd2)),percent=document[_0x3dab82(0xd4)]('file-transfer-percent'),sendButton=document['getElementById'](_0x3dab82(0xf6)),brightnessSlider=document['getElementById'](_0x3dab82(0xc9)),brightnessValue=document['getElementById'](_0x3dab82(0xe8)),configBlock=document[_0x3dab82(0xd4)](_0x3dab82(0xcb)),configOutput=document[_0x3dab82(0xd4)](_0x3dab82(0xd8)),DEVICE_NAME=_0x3dab82(0x7e),SERVICE_UUID=_0x3dab82(0xc5),WRITE_CHAR_UUID='0000fff2-0000-1000-8000-00805f9b34fb',NOTIF_CHAR_UUID=_0x3dab82(0xba),FILE_BLOCK_UUID=_0x3dab82(0xa6),DEVICE_INFO_SERVICE_UUID=_0x3dab82(0x91),FIRMWARE_CHARACTERISTIC_UUID=_0x3dab82(0x96);var bleServer,fileBlockCharacteristic,defaultConfig=_0x3dab82(0x8c)+_0x3dab82(0xf7)+_0x3dab82(0xaf)+';night_brightness=5'+_0x3dab82(0x81)+';show_number_marker=1'+_0x3dab82(0xc1)+_0x3dab82(0x95)+_0x3dab82(0xed)+';keep_awake_on_obd=1'+_0x3dab82(0xbf)+';boot_screen_duration=1';!navigator[_0x3dab82(0x8b)]&&(console[_0x3dab82(0x8f)](_0x3dab82(0xf0)),bleStateContainer[_0x3dab82(0xe6)]=_0x3dab82(0xbb)+_0x3dab82(0xb2)+'Hoặc\x20thử\x20mở\x20trang\x20này\x20bằng\x20điện\x20thoại\x20Android.\x20<br>'+_0x3dab82(0xb4),connectButton['style'][_0x3dab82(0x99)]=_0x3dab82(0xc7));connectButton[_0x3dab82(0xec)](_0x3dab82(0x88),_0x54d684=>{const _0x5fbd5=_0x3dab82;connect(),transferFileButton[_0x5fbd5(0xec)](_0x5fbd5(0x88),function(_0xb6917){const _0x4917af=_0x5fbd5;let _0x36679a=document['createElement'](_0x4917af(0xa5));_0x36679a[_0x4917af(0xa4)]=_0x4917af(0xc8),_0x36679a['accept']=_0x4917af(0xca),_0x36679a['onchange']=_0x47c7e3=>{const _0x5bebd3=_0x4917af;let _0x27cc6e=Array[_0x5bebd3(0xc2)](_0x36679a[_0x5bebd3(0x97)]),_0x11c209=_0x27cc6e[0x0],_0x5ca4a0=new FileReader();_0x5ca4a0[_0x5bebd3(0xe2)]=function(_0x319427){const _0x5d41a5=_0x5bebd3;let _0x488f2e=_0x319427['target'][_0x5d41a5(0xc4)],_0x32d23d=new Uint8Array(_0x488f2e);transferFile(_0x488f2e);},_0x5ca4a0[_0x5bebd3(0xdd)](_0x11c209);},_0x36679a[_0x4917af(0x88)]();});});function onDisconnected(_0x4a7989){const _0x28a70d=_0x3dab82;bleStateContainer['innerHTML']='Không\x20kết\x20nối',bleStateContainer[_0x28a70d(0x79)][_0x28a70d(0xda)]=_0x28a70d(0x8e),configBlock['style']['display']='none',connectButton[_0x28a70d(0x79)][_0x28a70d(0x99)]=_0x28a70d(0xf9);}async function connect(){const _0xb3a2e1=_0x3dab82;console[_0xb3a2e1(0x8f)](_0xb3a2e1(0xf8));const _0x1967ad=await navigator[_0xb3a2e1(0x8b)][_0xb3a2e1(0xfa)]({'filters':[{'name':DEVICE_NAME}],'optionalServices':[SERVICE_UUID,DEVICE_INFO_SERVICE_UUID]});_0x1967ad[_0xb3a2e1(0xec)](_0xb3a2e1(0xe7),onDisconnected),console[_0xb3a2e1(0x8f)](_0xb3a2e1(0x8d),_0x1967ad[_0xb3a2e1(0x98)]),bleStateContainer[_0xb3a2e1(0xe6)]=_0xb3a2e1(0xd5),bleStateContainer[_0xb3a2e1(0x79)]['color']=_0xb3a2e1(0xbe),console['log']('Connecting\x20to\x20device\x20...'),bleServer=await _0x1967ad[_0xb3a2e1(0x90)][_0xb3a2e1(0x84)](),console['log']('Getting\x20device\x20info\x20service\x20...');const _0x9e1b0a=await bleServer[_0xb3a2e1(0xb5)](DEVICE_INFO_SERVICE_UUID);console[_0xb3a2e1(0x8f)](_0xb3a2e1(0xe1));const _0x19fbdb=await _0x9e1b0a['getCharacteristic'](FIRMWARE_CHARACTERISTIC_UUID);console['log'](_0xb3a2e1(0xa2));const _0x2b4807=await _0x19fbdb[_0xb3a2e1(0xa3)]();console[_0xb3a2e1(0x8f)](_0xb3a2e1(0xf4),_0x2b4807);const _0x20c333=new TextDecoder()['decode'](_0x2b4807);bleStateContainer[_0xb3a2e1(0x79)][_0xb3a2e1(0xda)]=_0xb3a2e1(0xbc),bleStateContainer[_0xb3a2e1(0xe6)]=_0xb3a2e1(0xcf)+_0x20c333,configBlock[_0xb3a2e1(0x79)][_0xb3a2e1(0x99)]=_0xb3a2e1(0xf9),console[_0xb3a2e1(0x8f)](_0xb3a2e1(0x93),_0x20c333),parseData(),loadCurrentConfig(),connectButton[_0xb3a2e1(0x79)]['display']=_0xb3a2e1(0xc7);}async function loadCurrentConfig(){const _0x251b08=_0x3dab82,_0x37445d=await bleServer[_0x251b08(0xb5)](SERVICE_UUID),_0x1a2445=await _0x37445d[_0x251b08(0x92)](NOTIF_CHAR_UUID);_0x1a2445[_0x251b08(0xec)](_0x251b08(0x9c),handleCharacteristicChange),_0x1a2445[_0x251b08(0x7b)](),fileBlockCharacteristic=await _0x37445d['getCharacteristic'](FILE_BLOCK_UUID);const _0x734fa1=await _0x37445d[_0x251b08(0x92)](WRITE_CHAR_UUID),_0x269d86=_0x251b08(0xde),_0x5812dc=Uint8Array['from'](_0x269d86[_0x251b08(0xe5)]('')[_0x251b08(0xe0)](_0x121563=>_0x121563[_0x251b08(0x8a)]()));_0x734fa1['writeValueWithoutResponse'](_0x5812dc);}function _0x3a94(){const _0x29494e=['Web\x20Bluetooth\x20API\x20is\x20not\x20available\x20in\x20this\x20browser!','4339ngPiKu','Current\x20config\x20value:\x20','night_brightness','Read\x20value:\x20','15389YhxuFa','sendButton',';show_text_kmh=1','Initializing\x20Bluetooth...','block','requestDevice','style','writeValue','startNotifications','show_text_kmh','display_rotation','VIETMAP_HUD','keep_awake_on_obd',';show_speed=',';show_speed=1','byteLength','target','connect','File\x20length\x20is\x20too\x20long:\x20','Không\x20kết\x20nối','Chưa\x20kết\x20nối\x20với\x20thiết\x20bị\x20Bluetooth.','click','DTBK','charCodeAt','bluetooth','DTBK;display_rotation=2;show_clock=1;led_color=0xff0000;led_brightness=9;logo_text=MAPVIET;speed_limit_offset=0;welcome_text=','Device\x20Selected:','#d13a30','log','gatt','0000180a-0000-1000-8000-00805f9b34fb','getCharacteristic','Decoded\x20value:\x20','alert',';screen=0','00002a26-0000-1000-8000-00805f9b34fb','files','name','display',';keep_awake_on_obd=',';show_number_marker=','characteristicvaluechanged',';show_text_kmh=',';sleep_screen_mode=','obd_scan_duration','Device\x20Disconnected',';screen=','Try\x20to\x20read\x20revision\x20value','readValue','type','input','0000fff3-0000-1000-8000-00805f9b34fb','1200270zcbytl',';night_brightness=','185bbLDSa','logo_text',';logo_text=','led_color','undefined','345272wYkGld',';obd_scan_duration=0','2550CXBktl','speed_limit_offset','Thử\x20mở\x20trang\x20này\x20bằng\x20máy\x20tính\x20và\x20trình\x20duyệt\x20Chrome).<br>',';led_color=','Hoặc\x20thử\x20cài\x20ứng\x20dụng\x20<a\x20href=\x22https://apps.apple.com/us/app/bluefy-web-ble-browser/id1492822055\x22>Bluefy</a>\x20trên\x20iPhone\x20và\x20dùng\x20nó\x20để\x20mở\x20lại\x20trang\x20này.','getPrimaryService','\x20value\x20=\x20','Bluetooth\x20is\x20not\x20connected.','connectBleButton','writeValueWithoutResponse','0000fff1-0000-1000-8000-00805f9b34fb','Trình\x20duyệt\x20này\x20(thiết\x20bị\x20này)\x20không\x20hỗ\x20trợ!<br>\x20','#24af37','error','#242237',';show_weather=1','replace',';beep_limit_change=0','from','round','result','0000fff0-0000-1000-8000-00805f9b34fb','27ISBZMD','none','file','led_brightness','image/jpeg','configBlock','screen',';speed_limit_offset=','location','Đã\x20kết\x20nối\x20với\x20ProMax\x20','124dBMtGn','show_number_marker','bleState','forEach','getElementById','Đang\x20kết\x20nối\x20với\x20ProMax\x20','decode','34844rvMhqC','configOutput','715421EcEsgI','color','reload','key\x20=\x20','readAsArrayBuffer','LOAD','welcome_text','map','Getting\x20firmware\x20characteristics\x20...','onload','show_clock','Disconnect\x20Device.','split','innerHTML','gattserverdisconnected','brightness_value','value','1263WVeNgd','disconnect','addEventListener',';sleep_screen_mode=1','show_weather',';boot_screen_duration='];_0x3a94=function(){return _0x29494e;};return _0x3a94();}function handleCharacteristicChange(_0x405c17){const _0x191313=_0x3dab82,_0x1fb384=new TextDecoder()[_0x191313(0xd6)](_0x405c17[_0x191313(0x83)]['value']);console[_0x191313(0x8f)](_0x191313(0xf2),_0x1fb384),_0x1fb384!=''&&(defaultConfig=_0x1fb384,parseData());}async function send(){const _0x512963=_0x3dab82,_0x29bfe0=await bleServer[_0x512963(0xb5)](SERVICE_UUID),_0xe058b3=await _0x29bfe0['getCharacteristic'](WRITE_CHAR_UUID),_0x568474=document['getElementById'](_0x512963(0xd8))[_0x512963(0xe9)],_0x4d5204=Uint8Array[_0x512963(0xc2)](_0x568474[_0x512963(0xe5)]('')[_0x512963(0xe0)](_0x924e6c=>_0x924e6c[_0x512963(0x8a)]()));await _0xe058b3[_0x512963(0xb9)](_0x4d5204),sendState[_0x512963(0xe6)]='Đã\x20gửi!\x20Reload\x20sau\x203s',setTimeout(()=>window[_0x512963(0xce)][_0x512963(0xdb)](),0xbb8);}function disconnectDevice(){const _0x303a23=_0x3dab82;console['log'](_0x303a23(0xe4)),bleServer&&bleServer['connected']?(bleServer[_0x303a23(0xeb)](),console[_0x303a23(0x8f)](_0x303a23(0xa0)),bleStateContainer[_0x303a23(0xe6)]=_0x303a23(0x86),bleStateContainer[_0x303a23(0x79)][_0x303a23(0xda)]=_0x303a23(0x8e),configBlock['style'][_0x303a23(0x99)]='none'):(console['error'](_0x303a23(0xb7)),window[_0x303a23(0x94)](_0x303a23(0x87)));}function updateConfig(){const _0x38f3c4=_0x3dab82;var _0x3f1076=document[_0x38f3c4(0xd4)](_0x38f3c4(0xac))[_0x38f3c4(0xe9)][_0x38f3c4(0xc0)]('#','0x'),_0x4c675c='DTBK;display_rotation='+document['getElementById'](_0x38f3c4(0x7d))['value']+';show_clock='+document['getElementById'](_0x38f3c4(0xe3))['value']+_0x38f3c4(0xb3)+_0x3f1076+';led_brightness='+document[_0x38f3c4(0xd4)](_0x38f3c4(0xc9))[_0x38f3c4(0xe9)]+_0x38f3c4(0xab)+document[_0x38f3c4(0xd4)](_0x38f3c4(0xaa))[_0x38f3c4(0xe9)]+_0x38f3c4(0xcd)+document[_0x38f3c4(0xd4)](_0x38f3c4(0xb1))[_0x38f3c4(0xe9)]+_0x38f3c4(0xa8)+document[_0x38f3c4(0xd4)](_0x38f3c4(0xf3))[_0x38f3c4(0xe9)]+';welcome_text='+document['getElementById'](_0x38f3c4(0xdf))[_0x38f3c4(0xe9)]+_0x38f3c4(0x9d)+document[_0x38f3c4(0xd4)](_0x38f3c4(0x7c))[_0x38f3c4(0xe9)]+_0x38f3c4(0x80)+document[_0x38f3c4(0xd4)]('show_speed')[_0x38f3c4(0xe9)]+';obd_scan_duration='+document[_0x38f3c4(0xd4)](_0x38f3c4(0x9f))[_0x38f3c4(0xe9)]+_0x38f3c4(0x9b)+document[_0x38f3c4(0xd4)](_0x38f3c4(0xd1))[_0x38f3c4(0xe9)]+';beep_limit_change='+document[_0x38f3c4(0xd4)]('beep_limit_change')[_0x38f3c4(0xe9)]+_0x38f3c4(0xa1)+document['getElementById'](_0x38f3c4(0xcc))['value']+_0x38f3c4(0x9e)+document[_0x38f3c4(0xd4)]('sleep_screen_mode')[_0x38f3c4(0xe9)]+_0x38f3c4(0x9a)+document[_0x38f3c4(0xd4)](_0x38f3c4(0x7f))[_0x38f3c4(0xe9)]+';show_weather='+document['getElementById'](_0x38f3c4(0xee))[_0x38f3c4(0xe9)]+_0x38f3c4(0xef)+document['getElementById']('boot_screen_duration')['value'];configOutput['value']=_0x4c675c;}function parseData(){const _0x16b1c4=_0x3dab82;configOutput['value']=defaultConfig;var _0x2c7c65=configOutput[_0x16b1c4(0xe9)];_0x2c7c65[_0x16b1c4(0xe5)](';')[_0x16b1c4(0xd3)](function(_0xcacf69){const _0x39552c=_0x16b1c4;var _0x1f1c2d=_0xcacf69[_0x39552c(0xe5)]('=');console['log'](_0x39552c(0xdc)+_0x1f1c2d[0x0]+_0x39552c(0xb6)+_0x1f1c2d[0x1]);var _0x474a78=document[_0x39552c(0xd4)](_0x1f1c2d[0x0]);typeof _0x474a78!=_0x39552c(0xad)&&_0x474a78!=null&&(_0x1f1c2d[0x0]==_0x39552c(0xac)?_0x474a78[_0x39552c(0xe9)]=_0x1f1c2d[0x1][_0x39552c(0xc0)]('0x','#'):_0x474a78[_0x39552c(0xe9)]=_0x1f1c2d[0x1]);});}async function transferFile(_0x3ad4dd){const _0x6cb52a=_0x3dab82;let _0x55dfd7=0x64*0x400;if(_0x3ad4dd[_0x6cb52a(0x82)]>_0x55dfd7){console[_0x6cb52a(0xbd)](_0x6cb52a(0x85)+_0x3ad4dd[_0x6cb52a(0x82)]+'\x20bytes\x20but\x20maximum\x20is\x20'+_0x55dfd7);return;}transferFileButton[_0x6cb52a(0x79)]['display']='none',sendButton[_0x6cb52a(0x79)][_0x6cb52a(0x99)]='none',percent['style'][_0x6cb52a(0x99)]=_0x6cb52a(0xf9),sendFileBlock(_0x3ad4dd,0x0);}const delay=_0x597055=>{return new Promise(_0x168627=>setTimeout(_0x168627,_0x597055));};async function sendFileBlock(_0x186f2c,_0x11f444){const _0x2e573f=_0x3dab82;await delay(0x64);let _0xea9e24=_0x186f2c[_0x2e573f(0x82)]-_0x11f444;const _0x1d5c4c=0x80,_0x16a08e=Math['min'](_0xea9e24,_0x1d5c4c),_0x3bf2e1=new Uint8Array(_0x186f2c,_0x11f444,_0x16a08e);await fileBlockCharacteristic[_0x2e573f(0x7a)](_0x3bf2e1),_0xea9e24-=_0x16a08e;_0xea9e24>0x0&&(percent[_0x2e573f(0xe6)]=Math[_0x2e573f(0xc3)](0x64*(_0x11f444/_0x186f2c[_0x2e573f(0x82)]))+'%',_0x11f444+=_0x16a08e,sendFileBlock(_0x186f2c,_0x11f444));if(_0xea9e24<=0x0){transferFileButton[_0x2e573f(0x79)][_0x2e573f(0x99)]='block',sendButton[_0x2e573f(0x79)][_0x2e573f(0x99)]=_0x2e573f(0xf9),percent[_0x2e573f(0x79)][_0x2e573f(0x99)]='none';const _0x45eedc=_0x2e573f(0x89),_0x2a5ffe=Uint8Array[_0x2e573f(0xc2)](_0x45eedc[_0x2e573f(0xe5)]('')['map'](_0xfd11ff=>_0xfd11ff['charCodeAt']()));fileBlockCharacteristic['writeValueWithoutResponse'](_0x2a5ffe);}}
</script>

</html>
